<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.shape.Rectangle?>

<StackPane fx:id="root"
           xmlns="http://javafx.com/javafx/21"
           xmlns:fx="http://javafx.com/fxml/1"
           fx:controller="views.controllers.ActualizarPasswordController"
           style="-fx-background-color: rgba(0, 0, 0, 0.7);"
           stylesheets="@/css/pass.css">


    <!-- Panel central con efecto de vidrio -->
    <VBox alignment="CENTER" spacing="20"
          style="-fx-background-color: rgba(255, 255, 255, 0.95); -fx-background-radius: 15; -fx-padding: 25; -fx-border-color: linear-gradient(to right, #3a86ff, #8338ec); -fx-border-width: 1; -fx-border-radius: 15; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 20, 0, 0, 5);"
          maxWidth="400" maxHeight="350">

        <!-- Encabezado con icono y botón cerrar -->
        <HBox alignment="CENTER" spacing="10">
            <ImageView fx:id="imgLogo" fitWidth="24" fitHeight="24" preserveRatio="true"/>
            <Label text="Nueva Contraseña" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #3a86ff;" />
            <Region HBox.hgrow="ALWAYS"/>
            <Button fx:id="btnCerrar" text="✕" styleClass="btn-cerrar" />
        </HBox>

        <Separator style="-fx-background-color: linear-gradient(to right, #3a86ff, #8338ec);"/>

        <!-- Campo de contraseña con diseño minimalista -->
        <VBox spacing="15" alignment="CENTER_LEFT">
            <Label text="Ingresa tu nueva contraseña:" style="-fx-font-size: 14px; -fx-text-fill: #555;" />
            
            <!-- Contenedor del campo de contraseña con línea inferior -->
            <VBox spacing="5" style="-fx-border-color: #dee2e6; -fx-border-width: 0 0 1 0; -fx-padding: 0 0 5 0;">
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <!-- Campo de contraseña (oculto por defecto) -->
                    <PasswordField fx:id="txtPassword" promptText="Contraseña nueva" styleClass="campo-password-simple" />
                    <!-- Campo de texto visible (oculto inicialmente) -->
                    <TextField fx:id="txtPasswordVisible" promptText="Contraseña nueva" styleClass="campo-password-simple" visible="false" managed="false" />
                    <Region HBox.hgrow="ALWAYS"/>
                    <Button fx:id="btnTogglePassword" styleClass="btn-ver-password-simple">
                        <graphic>
                            <ImageView fx:id="imgPasswordIcon" fitWidth="20" fitHeight="20" preserveRatio="true" />
                        </graphic>
                    </Button>
                </HBox>
            </VBox>
            
            <Label fx:id="lblMensaje" text="La contraseña debe tener al menos 3 caracteres" style="-fx-font-size: 12px; -fx-text-fill: #888;" />
        </VBox>

        <Separator style="-fx-background-color: linear-gradient(to right, #3a86ff, #8338ec);"/>

        <!-- Botón actualizar con indicador de carga -->
        <StackPane>
            <Button fx:id="btnActualizar" text="Actualizar Contraseña" styleClass="btn-actualizar" />
            <ProgressIndicator fx:id="progressIndicator" visible="false" progress="0" prefWidth="30" prefHeight="30" />
        </StackPane>
    </VBox>
</StackPane>